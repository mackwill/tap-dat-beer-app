(this["webpackJsonptap-dat-beer-app"]=this["webpackJsonptap-dat-beer-app"]||[]).push([[0],{118:function(e,t,a){},161:function(e,t,a){e.exports=a(210)},188:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),i=a.n(l),o=(a(38),a(12)),c=a.n(o),s=a(21),u=a(6),m=a(16),d=a(243),f=a(18),p=a(249),g=a(250),b=a(251),h=a(248),E=a(36),v=a(247),y=a(139),w=a(130),O=a.n(w),j=a(82),C=a.n(j),k=a(128),x=a.n(k),S=a(138),N=a(126),R=a.n(N),T=a(127),B=a.n(T),_=a(278),D=a(129),I=a.n(D),U=a(125),A=a.n(U),L=a(252),W=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),F=Object(d.a)((function(){return{grow:{flexGrow:1},menuButton:{marginRight:W.spacing(2)},title:Object(m.a)({display:"block"},W.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:W.shape.borderRadius,backgroundColor:Object(f.c)(W.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(W.palette.common.white,.25)},marginRight:W.spacing(2),marginLeft:0,width:"100%"},W.breakpoints.up("sm"),{marginLeft:W.spacing(3),width:"auto"}),searchIcon:{padding:W.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",paddingLeft:"0.4rem",paddingRight:"0.4rem",marginLeft:"0.25rem",marginRight:"0.25rem"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:W.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(W.spacing(4),"px)"),transition:W.transitions.create("width"),width:"100%"},W.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(m.a)({display:"none"},W.breakpoints.up("md"),{display:"flex",alignItems:"center"}),sectionMobile:Object(m.a)({display:"flex",alignContent:"center"},W.breakpoints.up("md"),{display:"none"}),menuItemText:{fontFamily:["Oswald","sans-serif"],margin:0},button:{color:W.palette.primary.contrastText,fontFamily:["Oswald","sans-serif"],marginLeft:"0.25rem",marginRight:"0.25rem"}}}));function M(e){var t=F(),a=Object(n.useState)(null),l=Object(u.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)(null),s=Object(u.a)(c,2),m=s[0],d=s[1],f=Boolean(i),w=Boolean(m),j=function(){d(null)},k=function(){o(null),j()},S=function(t){switch(t){case"login":e.handleLoginOpen(!0);break;case"register":e.handleRegisterOpen();break;case"account":e.handleAccountOpen();break;case"scanner":e.handleScannerOpen();break;case"logout":e.handleLogout();break;case"search":e.handleSearchOpen();break;default:throw new Error("Incorrect action chosen: ",t)}d(null),o(null)},N="block",T="none";e.currentUser&&(N="none",T="block");var D=r.a.createElement(y.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:k},r.a.createElement(v.a,{onClick:k},"Profile"),r.a.createElement(v.a,{onClick:k},"My account")),U=r.a.createElement(y.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:w,onClose:j},r.a.createElement(v.a,{onClick:function(){return S("scanner")}},r.a.createElement(h.a,{"aria-label":"scanner","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(A.a,null)),r.a.createElement("p",{className:t.menuItemText},"Scanner")),r.a.createElement(_.a,{display:N},r.a.createElement(v.a,{onClick:function(){return S("register")}},r.a.createElement(h.a,{"aria-label":"register new user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(R.a,null)),r.a.createElement("p",{className:t.menuItemText},"Register")),r.a.createElement(v.a,{onClick:function(){return S("login")}},r.a.createElement(h.a,{"aria-label":"login user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(B.a,null)),r.a.createElement("p",{className:t.menuItemText},"Login"))),r.a.createElement(_.a,{display:T},r.a.createElement(v.a,{onClick:function(){return S("account")}},r.a.createElement(h.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(x.a,null)),r.a.createElement("p",{className:t.menuItemText},"My Account")),r.a.createElement(v.a,{onClick:function(){return S("logout")}},r.a.createElement(h.a,{"aria-label":"logout user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(I.a,null)),r.a.createElement("p",{className:t.menuItemText},"Logout"))));return r.a.createElement("div",{className:t.grow},r.a.createElement(p.a,{theme:W},r.a.createElement(g.a,{position:"fixed"},r.a.createElement(b.a,null,r.a.createElement(_.a,{width:1,display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement(E.a,{className:t.title,variant:"h6"},r.a.createElement("img",{src:"images/IMG_1524.png",alt:"Logo",height:"50px",width:"150px"})),r.a.createElement(_.a,{display:"flex"},r.a.createElement(h.a,{color:"inherit",onClick:function(){return S("search")}},r.a.createElement(C.a,null)),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(L.a,{className:t.button,color:W.palette.primary.contrastText,onClick:function(){return S("scanner")}},"Scanner"),r.a.createElement(_.a,{display:N},r.a.createElement(L.a,{className:t.button,color:W.palette.primary.contrastText,onClick:function(){return S("register")}},"Register"),r.a.createElement(L.a,{className:t.button,color:W.palette.primary.contrastText,onClick:function(){return S("login")}},"Login")),r.a.createElement(_.a,{display:T},r.a.createElement(L.a,{className:t.button,color:W.palette.primary.contrastText,onClick:function(){return S("account")}},"My Account"),r.a.createElement(L.a,{className:t.button,color:W.palette.primary.contrastText,onClick:function(){return S("logout")}},"Logout"))),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(h.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit"},r.a.createElement(O.a,null))))))),r.a.createElement(b.a,null)),U,D)}var z=a(283),P=a(253),Q=a(254),q=a(279),V=a(256),G=a(281),Y=Object(d.a)((function(e){return{root:{width:"80%","& > * + *":{marginTop:e.spacing(2)},margin:"auto"}}}));function H(e){var t=Y(),a="none";return e.errMessage&&(a="block"),r.a.createElement(_.a,{className:t.root,display:a},r.a.createElement(G.a,{severity:e.severity},e.errMessage))}function J(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],m=c[1],d=e.errMessage,f=e.submitLoginData,p=e.setErrorMessage,g=function(t){e.handleClose(t),p(null)};return r.a.createElement("div",null,r.a.createElement(z.a,{open:e.open,onClose:function(){return g()},"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),Promise.resolve(f(l,s)).then((function(){return e.handleClose()})).catch((function(e){return console.log("Error logging in: ",e)}))}},r.a.createElement(P.a,{id:"form-dialog-title"},"Login To Your Account!"),r.a.createElement(Q.a,null,r.a.createElement(q.a,{required:!0,autoFocus:!0,margin:"dense",id:"name",label:"Email",type:"email",name:"email",fullWidth:!0,onChange:function(e){return i(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"name",label:"Password",type:"password",name:"password",fullWidth:!0,onChange:function(e){return m(e.target.value)}})),r.a.createElement(H,{errMessage:d,severity:"warning"}),r.a.createElement(V.a,null,r.a.createElement(L.a,{onClick:function(){return g()},color:"primary"},"Cancel"),r.a.createElement(L.a,{type:"submit",color:"primary"},"Login")))))}var Z=a(8),X=a.n(Z);function $(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(""),m=Object(u.a)(o,2),d=m[0],f=m[1],p=Object(n.useState)(""),g=Object(u.a)(p,2),b=g[0],h=g[1],E=Object(n.useState)(""),v=Object(u.a)(E,2),y=v[0],w=v[1],O=Object(n.useState)(""),j=Object(u.a)(O,2),C=j[0],k=j[1],x=Object(n.useState)(null),S=Object(u.a)(x,2),N=S[0],R=S[1],T=e.setLoggedInUser,B=function(){var t=Object(s.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),y===C){t.next=4;break}return R("Passwords do not match"),t.abrupt("return");case 4:return n={firstName:l,lastName:d,email:b,password:y},t.prev=5,t.next=8,X.a.post("/api/register",n);case 8:r=t.sent,T(r.data.user),e.handleClose(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),R("That email already exists");case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),_=function(t){e.handleClose(t),R(null)};return r.a.createElement("div",null,r.a.createElement(z.a,{open:e.open,onClose:function(){return _()},"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:B},r.a.createElement(P.a,{id:"form-dialog-title"},"Sign Up!"),r.a.createElement(Q.a,null,r.a.createElement(q.a,{required:!0,autoFocus:!0,margin:"dense",id:"firstName",label:"First Name",type:"text",name:"firstName",fullWidth:!0,onChange:function(e){return i(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"lastName",label:"Last Name",type:"text",name:"lastName",fullWidth:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"email",label:"Email",type:"email",name:"email",fullWidth:!0,onChange:function(e){return h(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"password",label:"Password",type:"password",name:"password",fullWidth:!0,onChange:function(e){return w(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"confirmPassword",label:"Confirm Password",type:"password",name:"passwordConfirmation",fullWidth:!0,onChange:function(e){return k(e.target.value)}})),r.a.createElement(H,{errMessage:N,severity:"warning"}),r.a.createElement(V.a,null,r.a.createElement(L.a,{onClick:function(){return _()},color:"primary"},"Cancel"),r.a.createElement(L.a,{type:"submit",color:"primary"},"Register")))))}a(188);var K=a(257),ee=a(258),te=Object(d.a)((function(e){var t;return{root:(t={},Object(m.a)(t,e.breakpoints.up("xs"),{display:"flex",height:210,width:"100%",border:"none",margin:"auto"}),Object(m.a)(t,e.breakpoints.up("sm"),{display:"flex",height:"47vh",width:"90vw",border:"none",justifyContent:"center",alignContent:"center",margin:"auto"}),Object(m.a)(t,e.breakpoints.up("md"),{display:"flex",height:"450px",width:"89vw",border:"none",justifyContent:"center",alignContent:"center",margin:"auto"}),Object(m.a)(t,e.breakpoints.up("lg"),{display:"flex",height:"590px",width:"89vw",border:"none",justifyContent:"center",alignContent:"center",margin:"auto"}),t),details:{display:"flex",flexDirection:"column",border:"none"},content:{backgroundColor:"#f0f0f0",objectFit:"fill",border:"none"},cover:{width:"100%",height:"100%",backgroundSize:"cover",border:"none"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1),objectFit:"fill",border:"none"}}}));function ae(e){var t=te();return r.a.createElement(_.a,{p:"1rem"},r.a.createElement(K.a,{className:t.root},r.a.createElement(ee.a,{className:t.cover,image:e.image})))}var ne=a(97);a(189);function re(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement(ne.a,{activeIndex:a,onSelect:function(e,t){l(e)}},[{id:1,image:"images/27th-annual-Great-Canadian-Beer-Festival-2019.jpg",url:"#"},{id:2,image:"images/og-summer.jpg",url:"#"},{id:3,image:"images/toronto-craft-beer-festival-1885192-3157672-regular.jpg",url:"#"},{id:4,image:"images/newmarket-craftbeer-food-festival-2003262-3623942-regular.jpg",url:"#"}].map((function(e){return r.a.createElement(ne.a.Item,null,r.a.createElement(ae,{image:e.image}))}))))}var le=a(264),ie=a(261),oe=a(29),ce=a(259),se=a(260),ue=a(84),me=a(285),de=Object(d.a)((function(e){return{root:{textDecoration:"none",maxWidth:365,backgroundColor:"#ffffff"},media:{height:"9rem",backgroundSize:"contain",objectFit:"contain",width:"85%",margin:"auto",borderRadius:"5px"},header:{display:"flex",alignItems:"start",height:"3rem",paddingTop:"0.25rem"},headerTypography:{fontSize:"0.8rem",textAlign:"center"},subHeaderTypography:{fontSize:"0.6rem"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ue.a[500]},footer:{height:"2rem"},icon:{fontSize:"1rem"}}}));function fe(e){var t=de(),a=r.a.createElement(E.a,{className:t.headerTypography,variant:"p",component:"p"},e.name);return r.a.createElement(K.a,{className:t.root,variant:"outlined"},r.a.createElement(ce.a,{className:t.header,title:a}),r.a.createElement(ee.a,{className:t.media,src:e.beer_image,component:"img",onError:function(e){e.target.onerror=null,e.target.src="images/beer_placeholder.png"}}),r.a.createElement(se.a,{disableSpacing:!0,className:t.footer},r.a.createElement(_.a,{width:1,justifyContent:"center",display:"flex"},r.a.createElement(me.a,{className:t.icon,name:"read-only",size:"small",value:e.avg_rank,precision:.25,readOnly:!0}),r.a.createElement("span",{style:{fontSize:"0.7em"}},"(",e.num_reviews,")"))))}a(118);var pe=a(262),ge=a(263),be=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"},defaultBackground:{main:"#f0f0f0"}},typography:{fontFamily:"Oswald"}}),he=Object(d.a)((function(){return{root:{fontFamily:["Oswald","sans-serif"],display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:be.palette.defaultBackground.main},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:"#fff"},beerItemCard:{"&:hover":{textDecoration:"none"}},titleBar:{marginTop:"0.5rem",background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},typography:{fontFamily:"Oswald"}}}));function Ee(e){var t=2.25,a=Object(oe.a)(),n=Object(ie.a)("(min-width: 425px)"),l=Object(ie.a)(a.breakpoints.up("sm")),i=Object(ie.a)(a.breakpoints.up("md"));Object(ie.a)(a.breakpoints.up("lg"))?t=6:i?t=5:l?t=4:n&&(t=2.75);var o=he();return r.a.createElement("div",null,r.a.createElement(_.a,{component:"div",width:.9,className:o.root,m:"auto"},r.a.createElement(_.a,{width:1,component:"h3",mb:"1rem",mt:"1rem",textAlign:"center"},r.a.createElement(E.a,{variant:"h5",component:"h3",mb:2,className:o.typography},e.category),r.a.createElement(_.a,{mt:"1rem"},r.a.createElement(pe.a,null))),r.a.createElement(_.a,{width:1},r.a.createElement(ge.a,{className:o.gridList,cols:t,cellHeight:"250",width:1},e.beers.map((function(t){return r.a.createElement(le.a,{className:o.beerItemCard,id:t.id,key:t.id,component:"a",href:"JavaScript:void(0);",onClick:function(){return e.onClick(t.id)}},r.a.createElement(fe,t))}))),r.a.createElement(pe.a,null))))}var ve=Object(d.a)((function(e){return{root:{maxWidth:365,backgroundColor:"#ffffff"},media:{height:"9rem",backgroundSize:"contain",objectFit:"contain",padding:"0.5rem",width:"90%",margin:"auto"},header:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",height:"3rem",paddingTop:"1.25rem"},headerTypography:{fontSize:"1rem"},subHeaderTypography:{fontSize:"0.6rem"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ue.a[500]},footer:{height:"2rem"},icon:{fontSize:"1rem"}}})),ye={Ale:"images/category_ale.svg",Porter:"images/category_porter.svg",Lager:"images/category_lager.svg",Malt:"images/category_malt.svg","Flavoured Malt":"images/category_flavoured_malt.svg",Stout:"images/category_stout.svg"};function we(e){var t=ve(),a=r.a.createElement(E.a,{className:t.headerTypography,variant:"p",component:"p"},e.title);return r.a.createElement(K.a,{className:t.root,variant:"outlined"},r.a.createElement(ce.a,{className:t.header,title:a}),r.a.createElement(ee.a,{className:t.media,src:ye[e.title],component:"img",onError:function(e){e.target.onerror=null,e.target.src="images/beer_placeholder.png"}}))}var Oe=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"},defaultBackground:{main:"#f0f0f0"}}}),je=Object(d.a)((function(){return{body:{backgroundColor:Oe.palette.defaultBackground.main},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:Oe.palette.defaultBackground.main},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},beerItemCard:{"&:hover":{textDecoration:"none"}},title:{color:"#fff"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},typography:{fontFamily:"Oswald"}}}));function Ce(e){var t=2.25,a=Object(oe.a)(),n=Object(ie.a)("(min-width: 425px)"),l=Object(ie.a)(a.breakpoints.up("sm")),i=Object(ie.a)(a.breakpoints.up("md"));Object(ie.a)(a.breakpoints.up("lg"))?t=6:i?t=5:l?t=4:n&&(t=3);var o=je();return r.a.createElement("div",null,r.a.createElement(_.a,{component:"div",width:.9,className:o.root,m:"auto"},r.a.createElement(_.a,{width:1,component:"h3",mb:"1rem",mt:"1rem",textAlign:"center"},r.a.createElement(E.a,{variant:"h5",component:"h3",mb:2,className:o.typography},e.title),r.a.createElement(_.a,{mt:"1rem"},r.a.createElement(pe.a,null))),r.a.createElement(_.a,{width:1},r.a.createElement(ge.a,{className:o.gridList,cols:t,cellHeight:"250",width:1},e.categories.map((function(t){return r.a.createElement(le.a,{className:o.beerItemCard,key:t,component:"a",href:"JavaScript:void(0);",onClick:function(){return e.handleCategoryClick(t.type)}},r.a.createElement(we,{title:t.type}))}))))))}var ke=a(213),xe=a(246),Se=a(271),Ne=a(268),Re=a(136),Te=a.n(Re),Be=a(135),_e=a.n(Be),De=a(280),Ie=a(270),Ue=a(214),Ae=a(265);function Le(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{component:"div",style:{backgroundColor:"#f0f0f0"}},"Personal notes about ",e.currentBeer.name),r.a.createElement(_.a,{pb:"1rem",style:{backgroundColor:"#f0f0f0"}},r.a.createElement(L.a,{variant:"contained",fullWidth:!0,onClick:e.saveNote},"Save Notes")),r.a.createElement(Ue.a,{style:{width:"100%",height:"40vw"},"aria-label":"empty textarea",placeholder:"This beer is ...",value:e.personalNotes,onChange:e.handlePersonalNotes}))}var We=a(286),Fe=a(267),Me=a(83),ze=a.n(Me),Pe=a(266),Qe=Object(d.a)((function(e){return{root:{fontFamily:["Oswald","sans-serif"]},secondary:{fontFamily:["Oswald","sans-serif"],fontWeight:"300",opacity:"70%"}}}));function qe(e){var t=Qe(),a=function(e){return r.a.createElement(_.a,null,r.a.createElement(E.a,{className:t.secondary,variant:"p"},e))},n=e.searchResults.map((function(n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{button:!0,onClick:function(){return e.onClick(n.id)}},r.a.createElement(Pe.a,null,r.a.createElement(We.a,{src:n.beer_image},r.a.createElement(ze.a,null))),r.a.createElement(Fe.a,{className:t.root,primary:(l=n.name,r.a.createElement(_.a,null,r.a.createElement(E.a,{className:t.root,variant:"p"},l))),secondary:a(n.brewery)})),r.a.createElement(pe.a,null));var l}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{style:{paddingTop:"0"}},r.a.createElement(Ae.a,{component:"div",style:{backgroundColor:"#f0f0f0"}},e.title),n,e.pageNumber&&r.a.createElement(ke.a,{button:!0,onClick:e.loadMore},r.a.createElement(Fe.a,{className:t.root,primary:"Load more"}))))}function Ve(e){return r.a.createElement(qe,{onClick:e.onClick,searchResults:e.similarBeers,title:"Similar Beers"})}var Ge=a(269),Ye=a(132),He=a.n(Ye),Je=a(133),Ze=a.n(Je),Xe=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),$e=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-around"},text:{display:"flex",justifyContent:"center",fontSize:"1.2rem"}}}));function Ke(e){var t=$e();return r.a.createElement("div",null,r.a.createElement(p.a,{theme:Xe},r.a.createElement(z.a,{open:e.open,"aria-labelledby":"form-dialog-title",onClose:e.close},r.a.createElement(P.a,{id:"form-dialog-title",className:t.text,disableTypography:!0},"Are you sure you want to delete this review?"),r.a.createElement(Q.a,{className:t.root},r.a.createElement(L.a,{size:"medium",variant:"contained",color:"secondary",onClick:e.close,"aria-label":"close"},"Cancel"),r.a.createElement(L.a,{size:"medium",variant:"contained",color:"secondary",onClick:function(t){e.handleDeleteMyReview(e.reviewId),e.close()},"aria-label":"close"},"Confirm")))))}var et=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),tt=Object(d.a)((function(){return{root:{minWidth:275,backgroundColor:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},mainBlue:{color:et.palette.secondary.contrastText,backgroundColor:et.palette.secondary.main,marginRight:"0.5rem"},iconBlue:{color:et.palette.secondary.main},beerName:{fontWeight:"500"}}}));function at(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1],o=tt();return r.a.createElement(Ne.a,{item:!0,xs:12,md:12,lg:6},r.a.createElement(_.a,{m:"auto"},r.a.createElement(K.a,{className:o.root,variant:"outlined"},r.a.createElement(Ge.a,null,r.a.createElement(_.a,{component:"div",display:"flex",alignItems:"center",width:1,mb:.5,justifyContent:"space-between"},!e.myReviews&&e.first_name&&r.a.createElement(_.a,{component:"div",display:"flex",alignItems:"center"},r.a.createElement(We.a,{className:o.mainBlue},e.first_name[0]),r.a.createElement(E.a,{variant:"h5",component:"h5"},e.first_name)),e.beer_name&&r.a.createElement(_.a,{component:"div",display:"flex",alignItems:"center"},r.a.createElement(Pe.a,null,r.a.createElement(We.a,{src:e.beer_image},r.a.createElement(ze.a,null))),r.a.createElement(E.a,{variant:"p",component:"p",className:o.beerName},e.beer_name)),r.a.createElement(_.a,{textAlign:"right"},r.a.createElement(me.a,{name:"read-only",value:e.rank/2,precision:.25,readOnly:!0}))),r.a.createElement(pe.a,null),r.a.createElement(Ne.a,{container:!0,spacing:1,textAlign:"center",style:{paddingTop:"0.5rem",paddingBottom:"0.5rem"}},r.a.createElement(Ne.a,{container:!0,item:!0,xs:6,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"Sweet: ",e.sweet,"/5"))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:6,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"Sour: ",e.sour,"/5"))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:6,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"Bitter: ",e.bitter,"/5"))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:6,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"Hoppy: ",e.hoppy,"/5")))),r.a.createElement(pe.a,null),r.a.createElement(E.a,{variant:"body2",component:"p",style:{marginTop:"1rem"}},e.review)),!e.myReviews&&r.a.createElement(se.a,{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(E.a,{style:{opacity:"0.7"},variant:"p"},new Intl.DateTimeFormat("en-US").format(new Date(e.creation_date)))),e.myReviews&&r.a.createElement(se.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(He.a,{className:o.iconBlue,onClick:function(){return e.handleEditReviewOpen(e.id)}})),r.a.createElement(h.a,null,r.a.createElement(Ze.a,{className:o.iconBlue,onClick:function(e){i(!0)}}))),r.a.createElement(E.a,{style:{opacity:"0.7",justifyContent:"flex-end"},variant:"p"},new Intl.DateTimeFormat("en-US").format(new Date(e.creation_date)))))),l&&r.a.createElement(Ke,{open:l,close:function(e){i(!1)},reviewId:e.id,handleDeleteMyReview:e.handleDeleteMyReview}))}var nt=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),rt=Object(d.a)({root:{minWidth:275,backgroundColor:"#ffffff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},mainBlue:{color:nt.palette.secondary.contrastText,backgroundColor:nt.palette.secondary.main,marginRight:"0.5rem"}});function lt(e){var t=rt();return r.a.createElement(Ne.a,{item:!0,xs:12,md:12,lg:12,style:{margin:"auto"}},r.a.createElement(_.a,{m:"auto"},r.a.createElement(K.a,{className:t.root,variant:"outlined"},r.a.createElement(Ge.a,null,r.a.createElement(_.a,{width:1,display:"flex",justifyContent:"center"},r.a.createElement(E.a,{variant:"body2",component:"p",style:{marginTop:"1rem"}},e.text))))))}var it=Object(d.a)((function(e){return{greyBackground:{backgroundColor:"#f0f0f0"}}}));function ot(e){var t=it();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{component:"div",className:t.greyBackground},"Reviews from other users"),e.reviews&&r.a.createElement(Ne.a,{container:!0,spacing:3,className:t.greyBackground},e.reviews.length>0?e.reviews.map((function(e){return r.a.createElement(at,e)})):r.a.createElement(lt,{text:"No reviews for this beer yet. If you have taste this beer, leave a review to help fellow beer lover. The more you review beers, the better your recommendations will be!"})))}var ct=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},menuText:{fontFamily:["Oswald","sans-serif"]}}}));function st(e){var t=ct(),a=Object(n.useState)(0),l=Object(u.a)(a,2),i=l[0],o=l[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),f=d[0],p=d[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),E=h[0],v=h[1],y=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={text:E,beer_id:e.currentBeer.id},t.next=3,X.a.post("/api/notes",a);case 3:e.setOpenSB("Your note was saved");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(s.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.currentBeer.id,t.next=3,X.a.get("/api/notes/".concat(a));case 3:(n=t.sent).data.data?v(n.data.data.text):v("");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.a.get("/api/beers/similar/".concat(e.currentBeer.id));case 2:a=t.sent,p(a.data.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){O(),w()}),[e.currentBeer]),r.a.createElement("div",{className:t.root,style:{backgroundColor:"#f0f0f0"}},r.a.createElement(g.a,{style:{borderRadius:"5px"},position:"static"},r.a.createElement(De.a,{centered:!0,value:i,onChange:function(e,t){o(t)}},r.a.createElement(Ie.a,{className:t.menuText,label:"Reviews"}),r.a.createElement(Ie.a,{className:t.menuText,label:"Similar Beers"}),e.currentUser&&r.a.createElement(Ie.a,{className:t.menuText,label:"Notepad"}),!e.currentUser&&r.a.createElement(Ie.a,{className:t.menuText,label:"Notepad",disabled:!0}))),0===i&&r.a.createElement(ot,{reviews:e.reviews}),1===i&&r.a.createElement(Ve,{onClick:e.onClick,beers:e.beers,currentBeer:e.currentBeer,similarBeers:f}),2===i&&r.a.createElement(Le,{currentBeer:e.currentBeer,userNote:e.userNote,handlePersonalNotes:function(e){v(e.target.value)},saveNote:y,personalNotes:E}))}var ut=a(134),mt=a.n(ut),dt=Object(d.a)((function(e){return{appBar:{position:"sticky"},title:{marginLeft:e.spacing(2),fontFamily:["Oswald","sans-serif"],flex:1},desktopList:{backgroundColor:"#f0f0f0",display:"flex",height:"100%"},mobileList:{backgroundColor:"#f0f0f0"},desktopBeer:{display:"flex",flexDirection:"column",padding:"0 3rem",justifyContent:"flex-start"},desktopUnder:{alignItems:"flex-start",flexGrow:"1",overflowY:"auto",overflowX:"hidden"},gridContainer:{justifyContent:"center",marginTop:"0.2rem",marginBottom:"0.2rem"},breweryLink:{"&:hover":{textDecoration:"solid"},fontFamily:["Oswald","sans-serif"],opacity:"60%",color:"inherit"},reviewButtonSection:{height:"2rem"},beerName:{fontFamily:["Oswald","sans-serif"]}}})),ft=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}},breakpoints:{values:{xs:0,sm:600,tablet:640,md:960,laptop:1025,lg:1280,xl:1920}}}),pt=r.a.forwardRef((function(e,t){return r.a.createElement(Se.a,Object.assign({direction:"up",ref:t},e))}));function gt(e){var t=Object(ie.a)(ft.breakpoints.up("md")),a=Object(ie.a)(ft.breakpoints.up("laptop")),l=Object(n.useState)(!1),i=Object(u.a)(l,2),o=i[0],c=i[1],s=dt(ft);Object(n.useEffect)((function(){if(e.currentUser){var t=e.reviews.filter((function(t){return t.user_id===e.currentUser.id})).length>0;c(t)}else c(!1)}),[e.currentBeer,e.reviews]);return r.a.createElement("div",null,r.a.createElement(p.a,{theme:ft},r.a.createElement(z.a,{fullScreen:!0,open:e.open,onClose:e.handleClose,TransitionComponent:pt},r.a.createElement(g.a,{className:s.appBar},r.a.createElement(b.a,null,r.a.createElement(h.a,{edge:"start",color:"inherit",onClick:e.handleClose,"aria-label":"close"},r.a.createElement(mt.a,null)),r.a.createElement(E.a,{variant:"h6",className:s.title},"Beer Detail"))),r.a.createElement(xe.a,{className:"".concat(t?s.desktopList:s.mobileList)},r.a.createElement("div",{className:"".concat(a?s.desktopBeer:"")},r.a.createElement(ke.a,null,r.a.createElement(_.a,{width:1},r.a.createElement(E.a,{align:"center",variant:"h6",className:s.beerName},e.currentBeer.name),r.a.createElement(_.a,{display:"flex",justifyContent:"center"},r.a.createElement(E.a,{align:"center",className:s.breweryLink,variant:"subtitle1",component:"a",onClick:function(){return e.searchByBrewery(e.currentBeer.brewery)}},e.currentBeer.brewery)))),r.a.createElement(ke.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{style:{borderRadius:"10px",border:"1px solid #a9a9a9",marginBottom:"1rem",minWidth:"350px"},src:e.currentBeer.beer_image,onError:function(e){e.target.onerror=null,e.target.src="images/beer_placeholder.png"},alt:""})),r.a.createElement(ke.a,null,r.a.createElement(_.a,{display:"block",width:.9,margin:"auto"},r.a.createElement(pe.a,null),r.a.createElement(Ne.a,{container:!0,spacing:2,className:s.gridContainer},r.a.createElement(Ne.a,{container:!0,item:!0,xs:3,spacing:1,textAlign:"center"},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"ABV: ",e.currentBeer.abv,"%"))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:3,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},"IBU: ",e.currentBeer.ibu))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:3,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},e.currentBeer.type))),r.a.createElement(Ne.a,{container:!0,item:!0,xs:3,spacing:1},r.a.createElement(_.a,{m:"auto"},r.a.createElement(E.a,{variant:"p"},e.currentBeer.avg_rank?e.currentBeer.avg_rank:"--","/5")))),r.a.createElement(pe.a,null)),r.a.createElement(pe.a,null)),r.a.createElement(ke.a,null,r.a.createElement(_.a,{display:"flex",justifyContent:"space-between",width:1,textAlign:"right",alignItems:"center"},r.a.createElement(h.a,null,r.a.createElement(_e.a,{color:"secondary",onClick:e.handleAddToWishlist})),!e.currentUser||!o&&r.a.createElement(L.a,{className:s.reviewButtonSection,variant:"contained",color:"secondary",onClick:e.openForm},"Review"),!e.currentUser&&r.a.createElement(G.a,{severity:"warning"},r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.setRegisterOpen(!0)}},"Register")," ","to leave a review"),o&&r.a.createElement(G.a,{severity:"warning"},"Reviewed by you"),r.a.createElement(h.a,null,r.a.createElement(Te.a,{color:"secondary",onClick:e.handleShareOptionOpen}))),r.a.createElement(pe.a,null))),r.a.createElement(ke.a,{className:"".concat(t?s.desktopUnder:"")},r.a.createElement(st,{setOpenSB:e.setOpenSB,beers:e.beers,currentBeer:e.currentBeer,reviews:e.reviews,currentUser:e.currentUser,userNote:e.userNote,onClick:e.onClick,setUserNote:e.setUserNote}))))))}var bt=a(67),ht=a(54),Et=a.n(ht),vt=a(255),yt=Object(d.a)((function(e){return{root:{flexGrow:1},search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function wt(e){var t=yt();return r.a.createElement("div",{className:t.root},r.a.createElement(b.a,null,r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(C.a,null)),r.a.createElement(vt.a,{autoFocus:!0,onChange:e.onChangeSearch,value:e.searchQuery,placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}}))))}var Ot=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),jt=Object(d.a)((function(e){return{appBar:{position:"sticky"},title:{marginLeft:e.spacing(2),flex:1}}})),Ct=r.a.forwardRef((function(e,t){return r.a.createElement(Se.a,Object.assign({direction:"up",ref:t},e))}));function kt(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)([]),c=Object(u.a)(o,2),s=c[0],m=c[1],d=Object(n.useState)(0),f=Object(u.a)(d,2),v=f[0],y=f[1],w=jt();Object(n.useEffect)((function(){return X.a.get("/api/search/analytics").then((function(e){return m(e.data.finalData)})).catch((function(e){return null}))}),[]),Object(n.useEffect)((function(){e.searchQuery.length>0&&(y(1),X.a.get("/api/search?q=".concat(encodeURI(e.searchQuery),"&page=1&limit=10")).then((function(e){i(e.data.results),e.data.next?y(e.data.next.page):y(null)})).catch((function(e){return console.log("Error on search query:",e)})))}),[e.searchQuery]);return r.a.createElement(p.a,{theme:Ot},r.a.createElement("div",null,r.a.createElement(z.a,{fullScreen:!0,open:e.open,TransitionComponent:Ct},r.a.createElement(g.a,{className:w.appBar},r.a.createElement(b.a,null,r.a.createElement(h.a,{edge:"start",color:"inherit",onClick:function(){e.close(),i([])},"aria-label":"close"},r.a.createElement(Et.a,null)),r.a.createElement(E.a,{variant:"h6",className:w.title},r.a.createElement("div",{className:w.search},r.a.createElement(wt,{onChangeSearch:function(t){e.setSearchQuery(t.target.value)},searchQuery:e.searchQuery}))))),0===l.length&&e.searchQuery.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{severity:"info"},"Sorry. Your query did not yield any results"),r.a.createElement(qe,{onClick:e.onClick,searchResults:s,title:"Popular Search"})),0===l.length&&e.searchQuery.length<2&&r.a.createElement(qe,{onClick:e.onClick,searchResults:s,title:"Popular Search"}),l.length>0&&r.a.createElement(qe,{onClick:e.onClick,searchResults:l,title:"Search Result",loadMore:function(){v&&X.a.get("/api/search?q=".concat(encodeURI(e.searchQuery),"&page=").concat(v,"&limit=10")).then((function(e){e.data.next?y(e.data.next.page):y(null);var t=[].concat(Object(bt.a)(l),Object(bt.a)(e.data.results));i(t)}))},pageNumber:v}))))}var xt=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),St=Object(d.a)((function(e){return{root:{overflowY:"hidden",display:"flex",flexDirection:"column",alignItems:"center"}}})),Nt=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",width:"2ren"},questionButtons:{width:"8rem",marginTop:".5rem"}}})),Rt=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignContent:"center",width:"100% "}}})),Tt=Object(d.a)((function(e){return{root:{display:"flex",justifyContent:"center",fontSize:"1rem",paddingBottom:".5rem"}}}));function Bt(e){var t=St(xt),a=Nt(xt),n=Rt(xt),l=Tt(xt),i=function(t){e.setQuestion(t),e.nextQuestion(t)},o=[{answer:"not at all",value:1},{answer:"hardly",value:2},{answer:"partially",value:3},{answer:"moderately",value:4},{answer:"Extremely",value:5}].map((function(e){return r.a.createElement(L.a,{className:a.questionButtons,size:"medium",variant:"contained",color:"secondary",onClick:function(){return i("".concat(e.value))}},e.answer)})),c=[{star:r.a.createElement(me.a,{readOnly:!0,name:"simple-controlled",value:1}),value:1},{star:r.a.createElement(me.a,{readOnly:!0,name:"simple-controlled",value:2}),value:2},{star:r.a.createElement(me.a,{readOnly:!0,name:"simple-controlled",value:3}),value:3},{star:r.a.createElement(me.a,{readOnly:!0,name:"simple-controlled",value:4}),value:4},{star:r.a.createElement(me.a,{readOnly:!0,name:"simple-controlled",value:5}),value:5}].map((function(e){return r.a.createElement(L.a,{className:a.questionButtons,size:"large",variant:"outlined",color:"primary",onClick:function(){return i("".concat(e.value))}},e.star)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{theme:xt},!e.finalQuestion&&!e.ratingQuestion&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{id:"form-dialog-title",className:l.root,disableTypography:!0},"When tasting this beer how ",e.question," was it?"),r.a.createElement("div",{className:t.root},o)),!e.finalQuestion&&e.ratingQuestion&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{id:"form-dialog-title",className:l.root,disableTypography:!0},e.question),r.a.createElement("div",{className:t.root},c)),e.finalQuestion&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{id:"form-dialog-title",className:l.root,disableTypography:!0},e.question," "),r.a.createElement(_.a,{width:.8,display:"flex",justifyContent:"center",margin:"auto"},r.a.createElement(q.a,{className:n.root,id:"outlined-basic",multiline:!0,rowsMax:4,variant:"outlined","aria-label":"empty textarea",onChange:e.handleQuestionF,placeholder:"Type here"})))))}var _t=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),Dt=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",overflowY:"hidden"}}})),It=Object(d.a)((function(e){return{root:{margin:"32px",position:"relative",overflow:"none"},container:{height:"30rem"},close:{display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},submit:{display:"flex",flexDirection:"row-reverse",justifyContent:"space-between",alignContent:"center",paddingLeft:"35%"}}})),Ut=Object(d.a)((function(e){return{desktop:{height:"20rem"},mobile:{}}}));function At(e){var t=Dt(),a=It(),l=Ut(),i=Object(n.useState)(null),o=Object(u.a)(i,2),c=o[0],s=o[1],m=Object(n.useState)(null),d=Object(u.a)(m,2),f=d[0],g=d[1],b=Object(n.useState)(null),h=Object(u.a)(b,2),E=h[0],v=h[1],y=Object(n.useState)(null),w=Object(u.a)(y,2),O=w[0],j=w[1],C=Object(n.useState)(null),k=Object(u.a)(C,2),x=k[0],S=k[1],N=Object(n.useState)(null),R=Object(u.a)(N,2),T=R[0],B=R[1],_=Object(n.useState)(null),D=Object(u.a)(_,2),I=(D[0],D[1]),U=Object(n.useState)(1),A=Object(u.a)(U,2),W=A[0],F=A[1],M=function(){F((function(e){return e+1}))},P=function(){s(null),g(null),v(null),j(null),S(null),B(null),I(null),F(1),e.close()},Q=function(){var t={sweet:c,sour:O,hoppy:E,bitter:f,rank:x,beer_id:e.currentBeer.id,review:T};e.addReviewById(t),P()};return r.a.createElement(p.a,{theme:_t},r.a.createElement(z.a,{className:l.root,open:e.open,onClose:P,"aria-labelledby":"form-dialog-title",height:!0,PaperProps:{style:{minHeight:"1rem",maxWidth:"fit-content"}},fullWidth:!0},1===W&&r.a.createElement(Bt,{className:t.root,question:"sweet",setQuestion:s,nextQuestion:M}),2===W&&r.a.createElement(Bt,{question:"bitter",setQuestion:g,nextQuestion:M}),3===W&&r.a.createElement(Bt,{question:"hoppy",setQuestion:v,nextQuestion:M}),4===W&&r.a.createElement(Bt,{question:"sour",setQuestion:j,nextQuestion:M}),5===W&&r.a.createElement(Bt,{question:"Overall I would rate this beer as?",ratingQuestion:!0,setQuestion:S,nextQuestion:M}),W>5&&r.a.createElement(Bt,{question:"Are there any last thoughts you would like to share?",finalQuestion:!0,handleQuestionF:function(e){B(e.target.value)},nextAndSubmit:Q}),r.a.createElement(V.a,{className:a.submit},r.a.createElement(L.a,{edge:"end",color:"inherit",onClick:P,"aria-label":"close",size:"large"},"close"),W>5&&r.a.createElement(L.a,{size:"large",color:"secondary",variant:"contained",onClick:Q},"Submit"))))}var Lt=a(272),Wt=a(274),Ft=a(276),Mt=a(273),zt=a(275),Pt=a(277),Qt=a(215),qt=Object(Qt.a)((function(e){return{button:{width:"100%",height:100,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},text:{display:"flex",justifyContent:"center",alignContent:"center",fontSize:"1.2rem"}}}));function Vt(e){var t=qt();return r.a.createElement("div",null,r.a.createElement(z.a,{open:e.open,"aria-labelledby":"form-dialog-title",onClose:e.close},r.a.createElement(P.a,{id:"form-dialog-title",className:t.text,disableTypography:!0},"Share this beer with your friends!"),r.a.createElement(Q.a,{className:t.button},r.a.createElement(Lt.a,{quote:"Check out the great reviews of beers at Tap Dat Beer App",url:"http://www.facebook.com"},r.a.createElement(Mt.a,{size:60,round:!0})),r.a.createElement(Wt.a,{url:"tapdatbeerapp.com",subject:"Check out TapDat Beer App",body:"Check out the great reviews of beers at Tap Dat Beer App",separator:" "},r.a.createElement(zt.a,{size:60,round:!0})),r.a.createElement(Ft.a,{title:"Check out the great reviews of beers at Tap Dat Beer App",via:"sent from @TapDatBeerApp",url:"http://www.twitter.com"},r.a.createElement(Pt.a,{size:60,round:!0})))))}var Gt=a(284);function Yt(e){return r.a.createElement("div",null,r.a.createElement(Gt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:4e3,onClose:e.handleClose,message:e.textSB,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:e.handleClose},r.a.createElement(Et.a,{fontSize:"small"})))}))}var Ht=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}}}),Jt=Object(d.a)((function(e){return{root:{fontFamily:["Oswald","sans-serif"]}}}));function Zt(e){var t=Jt(),a=e.first_name,l=e.last_name,i=e.email,o=e.changeAccountDetails,c=Object(n.useState)(a),s=Object(u.a)(c,2),m=s[0],d=s[1],f=Object(n.useState)(l),g=Object(u.a)(f,2),b=g[0],h=g[1],E=Object(n.useState)(i),v=Object(u.a)(E,2),y=v[0],w=v[1];return r.a.createElement("div",null,r.a.createElement(p.a,{theme:Ht},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o({firstName:m,lastName:b,email:i})}},r.a.createElement(_.a,{width:1},r.a.createElement(q.a,{required:!0,autoFocus:!0,margin:"dense",id:"firstName",label:"First Name",type:"text",name:"firstName",value:m,fullWidth:!0,onChange:function(e){return d(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"lastName",label:"Last Name",type:"text",name:"lastName",value:b,fullWidth:!0,onChange:function(e){return h(e.target.value)}}),r.a.createElement(q.a,{required:!0,margin:"dense",id:"email",label:"Email",type:"email",name:"email",value:y,fullWidth:!0,onChange:function(e){return w(e.target.value)}})),r.a.createElement(_.a,{width:1,textAlign:"right"},r.a.createElement(L.a,{className:t.root,variant:"contained",type:"submit",color:"secondary"},"Update Info")))))}var Xt=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},menuText:{fontFamily:["Oswald","sans-serif"]}}}));function $t(e){var t=Xt(),a=Object(n.useState)(0),l=Object(u.a)(a,2),i=l[0],o=l[1];return r.a.createElement("div",{className:t.root,style:{backgroundColor:"#f0f0f0"}},r.a.createElement(g.a,{style:{borderRadius:"5px"},position:"static"},r.a.createElement(De.a,{value:i,onChange:function(e,t){o(t)}},r.a.createElement(Ie.a,{className:t.menuText,label:"My Wishlist"}),r.a.createElement(Ie.a,{className:t.menuText,label:"My Reviews"}))),r.a.createElement(xe.a,null,0===i&&r.a.createElement(r.a.Fragment,null,0===e.beers.length&&r.a.createElement(lt,{text:"You haven't added any beers to your wishlist."}),e.beers.length>0&&r.a.createElement(qe,{onClick:e.onClick,searchResults:e.beers,title:"Wishlisted Beers"})),1===i&&e.reviews&&r.a.createElement(r.a.Fragment,null,0===e.reviews.length&&r.a.createElement(lt,{text:"You haven't left any review yet."}),e.reviews.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{component:"div",style:{backgroundColor:"#f0f0f0",position:"static"}},"Reviews I have left"),r.a.createElement(Ne.a,{container:!0,spacing:3},e.reviews.map((function(t){return r.a.createElement(at,Object.assign({},t,{myReview:!0,myReviews:!0,handleDeleteMyReview:e.handleDeleteMyReview,handleEditReviewOpen:e.handleEditReviewOpen,handleConfirmDeleteOpen:e.handleConfirmDeleteOpen}))})))))))}var Kt=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00 !important",dark:"#a56d00",contrastText:"#fff"}},overrides:{MuiPaper:{root:{backgroundColor:"#f0f0f0"}}}}),ea=Object(d.a)((function(e){return{appBar:{position:"sticky"},title:{marginLeft:e.spacing(2),flex:1,fontFamily:["Oswald","sans-serif"]},avatar:{color:e.palette.secondary.contrastText,backgroundColor:"#EC9D00",width:"5rem",height:"5rem"},desktopList:{backgroundColor:"#f0f0f0",display:"flex",justifyContent:"space-between",height:"100%"},mobileList:{backgroundColor:"#f0f0f0"},desktopBeer:{display:"flex",flexDirection:"column",flexGrow:"1",padding:"0 3rem",justifyContent:"flex-start"},desktopUnder:{alignItems:"flex-start",flexGrow:"1",overflowY:"auto"},listItem:{justifyContent:"center"},dialog:{backgroundColor:"#f0f0f0",container:{backgroundColor:"#f0f0f0"}},displayName:{fontFamily:["Oswald","sans-serif"],fontWeight:400}}})),ta=r.a.forwardRef((function(e,t){return r.a.createElement(Se.a,Object.assign({direction:"up",ref:t},e))}));function aa(e){var t=Object(ie.a)(Kt.breakpoints.up("md")),a=ea(Kt);return r.a.createElement("div",null,r.a.createElement(p.a,{theme:Kt},r.a.createElement(z.a,{fullScreen:!0,open:e.open,onClose:e.handleClose,TransitionComponent:ta,className:a.dialog},r.a.createElement(g.a,{className:a.appBar},r.a.createElement(b.a,null,r.a.createElement(h.a,{edge:"start",color:"inherit",onClick:e.handleClose,"aria-label":"close"},r.a.createElement(Et.a,null)),r.a.createElement(E.a,{variant:"h6",className:a.title},"Account Details"))),r.a.createElement(xe.a,{className:"".concat(t?a.desktopList:a.mobileList)},r.a.createElement("div",{className:"".concat(t?a.desktopBeer:"")},r.a.createElement(ke.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(We.a,{className:a.avatar},e.firstName[0],e.lastName[0])),r.a.createElement(ke.a,null,r.a.createElement(_.a,{width:1,textAlign:"center"},r.a.createElement(E.a,{className:a.displayName,variant:"h6"},e.firstName," ",e.lastName))),r.a.createElement(ke.a,{className:a.listItem},r.a.createElement(Zt,{changeAccountDetails:e.changeAccountDetails,first_name:e.firstName,last_name:e.lastName,email:e.email}))),r.a.createElement(ke.a,{className:"".concat(t?a.desktopUnder:""),style:{overflow:"auto"}},r.a.createElement($t,{onClick:e.handleBeerDetailClick,beers:e.beers,reviews:e.reviews,handleDeleteMyReview:e.handleDeleteMyReview,handleEditReviewOpen:e.handleEditReviewOpen,handleConfirmDeleteOpen:e.handleConfirmDeleteOpen}))))))}var na=a(137);function ra(e){var t,a=r.a.useRef(null),l=r.a.useRef(null),i=Object(n.useState)(null),o=Object(u.a)(i,2),c=o[0],s=o[1],m={noBeer:0},d=Object(n.useState)("Start Scanning"),f=Object(u.a)(d,2),p=f[0],g=f[1],b=Object(n.useState)([]),h=Object(u.a)(b,2),E=h[0],v=h[1];Object(n.useEffect)((function(){e.open&&X.a.get("/api/beers").then((function(e){return v(e.data.data)}))}),[e.open]),E.forEach((function(e){return m[e.id]=0})),Object(n.useEffect)((function(){e.open&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){l.current&&e&&(l.current.srcObject=e),na.imageClassifier("model/model.json",l.current).then((function(e){return s(e)}))})).catch((function(e){return console.log("Error opening scanner: ",e)}))}),[e.open]);var y=function(){c.classify(O),g("Scanning...")},w=0,O=function(t,a){if(!t){if(a[0].confidence>=.9&&m[a[0].label]++,Object.values(m).some((function(e){return e>30})))return e.openBeer(Number(a[0].label)),void j();if(w>300)return g("Sorry we couldn't find the beer that matches"),void setTimeout((function(){j()}),2e3);w++,requestAnimationFrame(y)}},j=function(){l.current.srcObject.getTracks()[0].stop(),g("Start Scanning"),e.handleClose()};return r.a.createElement("div",{ref:a},r.a.createElement(z.a,{open:e.open,onClose:j,"aria-labelledby":"form-dialog-title"},r.a.createElement("video",{style:{width:"100%",height:"auto"},width:null===(t=a.current)||void 0===t?void 0:t.clientWidth,height:"480",autoPlay:!0,ref:l}),c&&r.a.createElement(L.a,{onClick:function(){return y()}},p)))}var la=a(14);function ia(e){var t=Object(n.useState)(e.review),a=Object(u.a)(t,2),l=a[0],i=a[1],o=function(e){e.target.value>=1&&e.target.value<=5&&i(Object(la.a)(Object(la.a)({},l),{},Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(z.a,{open:e.open,onClose:e.close,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(t){return t.preventDefault(),X.a.put("/api/reviews/".concat(l.id),l).then((function(t){e.close(),e.handleEditReviewUpdate()})).catch((function(e){console.log("Error editting review: ",e)}))}},r.a.createElement(P.a,{id:"form-dialog-title"},"Update Your Review"),r.a.createElement(Q.a,null,r.a.createElement(q.a,{autoFocus:!0,margin:"dense",id:"sweet",label:"Current Sweetness:",type:"number",name:"sweet",value:l.sweet,fullWidth:!0,onChange:o}),r.a.createElement(q.a,{margin:"dense",id:"bitter",label:"Current Bitterness:",type:"number",name:"bitter",value:l.bitter,fullWidth:!0,onChange:o}),r.a.createElement(q.a,{margin:"dense",id:"hoppy",label:"Current Hoppiness",type:"number",name:"hoppy",value:l.hoppy,fullWidth:!0,onChange:o}),r.a.createElement(q.a,{margin:"dense",id:"sour",label:"Current Sourness",type:"number",name:"sour",value:l.sour,fullWidth:!0,onChange:o}),r.a.createElement(q.a,{margin:"dense",id:"rank",label:"Current Rank",type:"number",name:"rank",value:l.rank,fullWidth:!0,onChange:o}),r.a.createElement(q.a,{inputProps:{size:80},id:"outlined-basic",variant:"outlined",label:"",type:"text",name:"review",value:l.review,onChange:function(e){i(Object(la.a)(Object(la.a)({},l),{},Object(m.a)({},e.target.name,e.target.value)))}})),r.a.createElement(V.a,null,r.a.createElement(L.a,{onClick:e.close,color:"primary"},"Cancel"),r.a.createElement(L.a,{type:"submit",color:"primary"},"Update")))))}var oa=function(e,t){switch(t.type){case"SET_CURRENT_USER":return Object(la.a)(Object(la.a)({},e),{},{currentUser:t.value,isActive:!0});case"SET_USER_LOGOUT":return Object(la.a)(Object(la.a)({},e),{},{currentUser:null,isActive:!1});case"SET_VISITOR_BEER_DATA":case"SET_USER_BEER_DATA":return Object(la.a)(Object(la.a)({},e),t.value);case"SET_WISHLIST":return Object(la.a)(Object(la.a)({},e),{},{currentWishlist:t.value});case"SET_CURRENT_BEER":return Object(la.a)(Object(la.a)({},e),{},{currentBeer:t.value});case"SET_RECENTLY_VIEWED":return Object(la.a)(Object(la.a)({},e),{},{recentlyViewed:t.value});case"SET_ERROR_MESSAGE":return Object(la.a)(Object(la.a)({},e),{},{errMessage:t.value});case"SET_REGISTRATION_OR_USER_DATA":return t.value.name?Object(la.a)(Object(la.a)({},e),{},Object(m.a)({},t.value.name,t.value.value)):Object(la.a)(Object(la.a)({},e),t.value);case"SET_USER_REVIEWS":return Object(la.a)(Object(la.a)({},e),{},{currentBeerReviews:t.value});default:throw new Error("Tried to reduce with usuppoorted action type: ".concat(t.type))}};function ca(e){return r.a.createElement("div",null,r.a.createElement(z.a,{open:e.open,onClose:e.close,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,{id:"form-dialog-title"},"Find a beer quickly with our beer classification scanner"),r.a.createElement(Q.a,{style:{textAlign:"center"}},"Hold your camera at the beer and stand still for a few second. If we have your beer in our database, the beer profile will shortly appear",r.a.createElement(_.a,{component:"div",width:1},r.a.createElement("img",{style:{width:"100%"},src:"images/scanner.png",alt:"Scanner Instruction"}))),r.a.createElement(V.a,null,r.a.createElement(L.a,{onClick:function(){return e.close()},color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:function(){return e.startScanner()},color:"primary"},"Next"))))}var sa=Object(S.a)({palette:{primary:{light:"#71a0be",main:"#4e89ae",dark:"#365f79",contrastText:"#fff"},secondary:{light:"#efb033",main:"#EC9D00",dark:"#a56d00",contrastText:"#fff"}},defaultBackground:{main:"#f0f0f0"}}),ua=Object(d.a)((function(){return{body:{backgroundColor:sa.defaultBackground.main}}}));var ma=function(){var e=ua(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(!1),m=Object(u.a)(o,2),d=m[0],f=m[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),b=g[0],h=g[1],E=Object(n.useState)(!1),v=Object(u.a)(E,2),y=v[0],w=v[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),C=j[0],k=j[1],x=Object(n.useState)(""),S=Object(u.a)(x,2),N=S[0],R=S[1],T=Object(n.useState)(!1),B=Object(u.a)(T,2),_=B[0],D=B[1],I=Object(n.useState)(!1),U=Object(u.a)(I,2),A=U[0],L=U[1],W=Object(n.useState)(!1),F=Object(u.a)(W,2),z=F[0],P=F[1],Q=Object(n.useState)(!1),q=Object(u.a)(Q,2),V=q[0],G=q[1],Y=Object(n.useState)(!1),H=Object(u.a)(Y,2),Z=H[0],K=H[1],ee=Object(n.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)({}),ie=Object(u.a)(le,2),oe=ie[0],ce=ie[1],se=function(){var e=Object(n.useReducer)(oa,{top10RatedBeers:[],top10ReviewedBeers:[],recommendedBeers:[],recentlyViewed:[],beerCategories:[],currentBeer:null,currentBeerReviews:[],currentWishlist:[],currentUser:null,errMessage:null,firstName:null,lastName:null,email:null,password:null,passwordConfirmation:null,isActive:null}),t=Object(u.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){return X.a.get("/api/user").then((function(e){r({type:"SET_CURRENT_USER",value:e.data.data})}))}),[]),Object(n.useEffect)((function(){Promise.all([Promise.resolve(X.a.get("/api/beers/top10rated")),Promise.resolve(X.a.get("/api/beers/top10reviewed")),Promise.resolve(X.a.get("/api/beers/categories"))]).then((function(e){r({type:"SET_VISITOR_BEER_DATA",value:{top10RatedBeers:e[0].data.data,top10ReviewedBeers:e[1].data.data,beerCategories:e[2].data.data}})})).catch((function(e){console.log("Error getting beers: ",e)}))}),[]),Object(n.useEffect)((function(){Promise.all([Promise.resolve(X.a.get("/api/beers/recommendations")),Promise.resolve(X.a.get("/api/beers/recently")),Promise.resolve(X.a.get("/api/wishlists"))]).then((function(e){r({type:"SET_USER_BEER_DATA",value:{recommendedBeers:e[0].data.data,recentlyViewed:e[1].data.data,currentWishlist:e[2].data.data}})})).catch((function(e){}))}),[a.isActive]);var l=function(e){return a.currentBeerReviews.filter((function(t){return e!==t.id}))};return{state:a,submitLoginData:function(e,t){return X.a.post("/api/login",{email:e,password:t}).then((function(e){r({type:"SET_CURRENT_USER",value:e.data.user})})).catch((function(e){throw r({type:"SET_ERROR_MESSAGE",value:"Invalid email or password"}),new Error}))},addBeerToWishlist:function(e,t){return X.a.post("/api/wishlists/",{beer_id:e,user_id:a.currentUser.id}).then((function(e){return X.a.get("/api/wishlists")})).then((function(e){r({type:"SET_WISHLIST",value:e.data.data})})).catch((function(e){return console.log("Error adding beer to wishlist: ",e)}))},deleteBeerFromWishlist:function(e,t){return X.a.delete("/api/wishlists/".concat(e)).then((function(e){return X.a.get("/api/wishlists")})).then((function(e){r({type:"SET_WISHLIST",value:e.data.data})}))},setClickedBeerToCurrent:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return Promise.all([Promise.resolve(X.a.get("/api/beers/".concat(t))),Promise.resolve(X.a.get("/api/reviews/beers/".concat(t)))]).then((function(e){r({type:"SET_VISITOR_BEER_DATA",value:{currentBeer:e[0].data.beer,currentBeerReviews:e[0].data.reviews}})})),e.abrupt("return");case 5:r({type:"SET_VISITOR_BEER_DATA",value:{currentBeer:null,currentBeerReviews:null}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReviewsAndWishlistForSingleUser:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([Promise.resolve(X.a.get("/api/reviews/user")),Promise.resolve(X.a.get("/api/wishlists"))]).then((function(e){r({type:"SET_USER_BEER_DATA",value:{currentBeerReviews:e[0].data.data,currentWishlist:e[1].data.data}})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),changeUserData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};a=t?{firstName:null,lastName:null,email:null,password:null,passwordConfirmation:null}:{name:e.target.name,value:e.target.value.trim()},r({type:"SET_REGISTRATION_OR_USER_DATA",value:a})},setLoggedInUser:function(e){r({type:"SET_CURRENT_USER",value:e})},setErrorMessage:function(e){r({type:"SET_ERROR_MESSAGE",value:e})},changeAccountDetails:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(la.a)(Object(la.a)({},a.currentUser),{},{first_name:t.firstName,last_name:t.lastName,email:t.email}),e.prev=1,e.next=4,X.a.put("/api/user",n);case 4:r({type:"SET_CURRENT_USER",value:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error updating account: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),setRecentlyViewed:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/api/beers/recently");case 2:t=e.sent,r({type:"SET_RECENTLY_VIEWED",value:t.data.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteReviewById:function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.delete("/api/reviews/".concat(t));case 2:a=l(t),r({type:"SET_USER_REVIEWS",value:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addReviewById:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.post("/api/reviews",t);case 2:(n=e.sent).data.data.first_name=a.currentUser.first_name,l=[].concat(Object(bt.a)(a.currentBeerReviews),[n.data.data]),r({type:"SET_USER_REVIEWS",value:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logUserOut:function(){r({type:"SET_USER_LOGOUT"})}}}(),ue=se.state,me=se.submitLoginData,de=se.addBeerToWishlist,fe=se.deleteBeerFromWishlist,pe=se.setClickedBeerToCurrent,ge=se.getReviewsAndWishlistForSingleUser,be=se.changeUserData,he=se.setLoggedInUser,ve=se.setErrorMessage,ye=se.changeAccountDetails,we=se.setRecentlyViewed,Oe=se.deleteReviewById,je=se.addReviewById,ke=se.logUserOut,xe=ue.top10RatedBeers,Se=ue.top10ReviewedBeers,Ne=ue.recommendedBeers,Re=ue.recentlyViewed,Te=ue.beerCategories,Be=ue.currentWishlist,_e=ue.currentBeer,De=ue.currentBeerReviews,Ie=ue.currentUser,Ue=ue.errMessage,Ae=Object(n.useState)(!1),Le=Object(u.a)(Ae,2),We=Le[0],Fe=Le[1],Me=Object(n.useState)(!1),ze=Object(u.a)(Me,2),Pe=ze[0],Qe=ze[1],qe=function(e){Fe(!0),Qe(e)},Ve=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=De.filter((function(e){return t===e.id})),e.next=3,ce(a[0]);case 3:ne(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){Ie?(Oe(e),qe("Your review was removed from your Review list")):f(!0)},Ye=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),a={beer_id:t,query:N,user_id:Ie&&Ie.id},N&&(a.query=N),e.next=5,X.a.post("/api/search/analytics",a);case 5:we(),pe(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:w(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){return Be.filter((function(t){return e===t.id}))},Ze=function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie){e.next=3;break}return qe([r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return f(!0)}},"Login")," or ",r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return i(!0)}},"Register"),"to use that feature"]),e.abrupt("return");case 3:return e.next=5,Je(_e.id);case 5:if(!(e.sent.length>0)){e.next=12;break}return a=Be.filter((function(e){return e.id===_e.id})),e.next=10,fe(a[0].w_id,_e);case 10:return qe("".concat(_e.name," was removed from your wishlist")),e.abrupt("return");case 12:if(!Ie||!_e){e.next=16;break}return e.next=15,de(_e.id);case 15:qe("".concat(_e.name," was saved to wishlist"));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){k(!0),R(e)};return r.a.createElement("div",{className:e.body},r.a.createElement(M,{handleSearchOpen:function(e){k(!0)},handleRegisterOpen:function(e){i(!0)},handleLoginOpen:f,currentUser:Ie,handleLogout:function(e){return X.a.post("/api/logout").then((function(e){ke(),qe("You are now logged out")}))},handleAccountOpen:He,handleScannerOpen:function(e){K(!0)}}),r.a.createElement(J,{open:d,handleClose:function(e){f(!1),be(e,!0)},errMessage:Ue,setErrorMessage:ve,changeUserData:be,submitLoginData:me}),r.a.createElement($,{open:l,handleClose:function(e){i(!1),be(e,!0)},errMessage:Ue,changeUserData:be,setLoggedInUser:he,setErrorMessage:ve}),r.a.createElement(re,null),Ie&&r.a.createElement(n.Fragment,null,0!==Ne.length&&r.a.createElement(Ee,{category:"Recommended",beers:Ne,onClick:Ye}),0!==Re.length&&r.a.createElement(Ee,{category:"Recently Viewed",beers:Re,onClick:Ye})),xe.length>0&&r.a.createElement(Ee,{category:"Top 10 Rated Beers",beers:xe,onClick:Ye}),Se.length>0&&r.a.createElement(Ee,{category:"Top 10 Reviewed Beers",beers:Se,onClick:Ye}),Te.length>0&&r.a.createElement(Ce,{title:"Categories",categories:Te,handleCategoryClick:Xe}),_e&&r.a.createElement(gt,{open:b,handleClose:function(e){h(!1),setTimeout((function(){pe()}),200)},currentBeer:_e,reviews:De,openForm:function(e){D(!0)},currentUser:Ie,handleAddToWishlist:Ze,handleShareOptionOpen:function(e){L(!0)},userNote:z,setOpenSB:qe,onClick:Ye,setUserNote:P,handleEditReviewOpen:Ve,setRegisterOpen:i,searchByBrewery:Xe}),r.a.createElement(kt,{searchQuery:N,setSearchQuery:R,open:C,close:function(e){R(""),k(!1)},onClick:function(e){Ye(e)}}),r.a.createElement(At,{currentBeer:_e,open:_,close:function(e){D(!1)},handleDeleteMyReview:Ge,addReviewById:je}),r.a.createElement(Vt,{open:A,close:function(e){L(!1)}}),ae&&r.a.createElement(ia,{open:ae,close:function(e){ne(!1)},review:oe,handleEditReviewUpdate:function(){ge()}}),r.a.createElement(Yt,{handleClose:function(e,t){"clickaway"!==t&&Fe(!1)},open:We,textSB:Pe}),Ie&&r.a.createElement(aa,{firstName:Ie.first_name,lastName:Ie.last_name,email:Ie.email,open:y,handleClose:function(){return w(!1)},beers:Be,reviews:De,handleEditReviewOpen:Ve,handleDeleteMyReview:Ge,changeAccountDetails:function(e){ye(e),qe("Your account details were updated")},handleBeerDetailClick:Ye}),r.a.createElement(ra,{open:V,handleClose:function(e){G(!1)},openBeer:Ye}),r.a.createElement(ca,{startScanner:function(){K(!1),G(!0)},open:Z,close:function(){K(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));X.a.defaults.baseURL="https://tap-dat-beer-app.herokuapp.com/",i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ma,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){}},[[161,1,2]]]);
//# sourceMappingURL=main.43e5021b.chunk.js.map